<!-- KyanosTech Branded ChatGPT Interface -->
<div id="kyanostech-chatbot" class="kyanostech-chatbot">
  <!-- Chat Toggle Button -->
  <button id="chatbot-toggle" class="chatbot-toggle" aria-label="Open KyanosTech AI Assistant">
    <div class="toggle-icon">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 2L2 7V12C2 16.5 4.23 20.68 7.62 23.15L12 24L16.38 23.15C19.77 20.68 22 16.5 22 12V7L12 2Z" fill="currentColor"/>
        <circle cx="8.5" cy="10.5" r="1.5" fill="white"/>
        <circle cx="15.5" cy="10.5" r="1.5" fill="white"/>
        <path d="M8 14C8 14 10 16 12 16C14 16 16 14 16 14" stroke="white" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </div>
    <span class="toggle-label">AI Assistant</span>
  </button>

  <!-- Chat Interface -->
  <div id="chatbot-interface" class="chatbot-interface hidden">
    <!-- Header -->
    <div class="chatbot-header">
      <div class="header-content">
        <div class="brand-logo">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7V12C2 16.5 4.23 20.68 7.62 23.15L12 24L16.38 23.15C19.77 20.68 22 16.5 22 12V7L12 2Z" fill="currentColor"/>
          </svg>
          <div class="brand-text">
            <h3>KyanosTech</h3>
            <p>AI Assistant</p>
          </div>
        </div>
        <div class="header-actions">
          <button id="chatbot-maximize" class="header-action" aria-label="Maximize" title="Maximize">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M8 3H5C3.89543 3 3 3.89543 3 5V8M21 8V5C21 3.89543 20.1046 3 19 3H16M16 21H19C20.1046 21 21 20.1046 21 19V16M3 16V19C3 20.1046 3.89543 21 5 21H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button id="chatbot-minimize" class="header-action" aria-label="Minimize" title="Minimize">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
          <button id="chatbot-close" class="header-action" aria-label="Close" title="Close">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Chat Container -->
    <div class="chat-container">
      <!-- Welcome Screen -->
      <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-header">
          <div class="kyanos-logo">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7V12C2 16.5 4.23 20.68 7.62 23.15L12 24L16.38 23.15C19.77 20.68 22 16.5 22 12V7L12 2Z" fill="url(#primaryGradient)"/>
            </svg>
            <defs>
              <linearGradient id="primaryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#1f2937"/>
                <stop offset="100%" style="stop-color:#3b82f6"/>
              </linearGradient>
            </defs>
          </div>
          <h2>Welcome to KyanosTech AI</h2>
          <p>Your dedicated assistant for business plan questions</p>
        </div>

        <!-- Product Quick Access -->
        <div class="product-grid">
          <button class="product-card agon-card" data-question="Tell me about AGON">
            <div class="product-icon" style="background-color: #2563eb;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                <path d="M12 2L13.09 8.26L22 9L13.09 15.74L12 22L10.91 15.74L2 9L10.91 8.26L12 2Z"/>
              </svg>
            </div>
            <div class="product-info">
              <h4>AGON</h4>
              <p>Win the Contest</p>
            </div>
          </button>
          
          <button class="product-card polis-card" data-question="Tell me about POLIS">
            <div class="product-icon" style="background-color: #059669;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                <path d="M12 3L1 9L12 15L21 10.09V17H23V9L12 3Z"/>
              </svg>
            </div>
            <div class="product-info">
              <h4>POLIS</h4>
              <p>Govern with Intelligence</p>
            </div>
          </button>
          
          <button class="product-card scope-card" data-question="Tell me about SCOPE">
            <div class="product-icon" style="background-color: #dc2626;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                <path d="M15.5 14H20.5L22 15.5V20.5L20.5 22H15.5L14 20.5V15.5L15.5 14ZM18 17.5C18 16.12 16.88 15 15.5 15S13 16.12 13 17.5 14.12 20 15.5 20 18 18.88 18 17.5ZM3 5V19C3 20.1 3.89 21 5 21H11V19H5V5H19V11H21V5C21 3.89 20.1 3 19 3H5C3.89 3 3 3.89 3 5Z"/>
              </svg>
            </div>
            <div class="product-info">
              <h4>SCOPE</h4>
              <p>Measure What Matters</p>
            </div>
          </button>
        </div>

        <!-- Quick Questions -->
        <div class="quick-questions">
          <h3>Problem & Solution</h3>
          <div class="question-buttons">
            <button class="question-btn" data-question="What fundamental problem does KyanosTech solve in progressive politics?">
              üîç The Problem
            </button>
            <button class="question-btn" data-question="How do AGON, POLIS, and SCOPE work together to solve progressive campaign challenges?">
              üí° The Solution
            </button>
            <button class="question-btn" data-question="Why do current political technology solutions fail progressive campaigns and organizations?">
              ‚ö° Market Gap
            </button>
            <button class="question-btn" data-question="What makes KyanosTech's integrated approach unique in the political technology space?">
              üéØ Unique Value
            </button>
          </div>
        </div>

        <!-- Direct Input Prompt -->
        <div class="input-prompt">
          <p>Click any topic above or ask your own question below to get started.</p>
        </div>
      </div>

      <!-- Chat Messages (hidden initially) -->
      <div id="chat-messages" class="chat-messages hidden">
        <div class="welcome-chat-message">
          <div class="bot-avatar">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M12 2L2 7V12C2 16.5 4.23 20.68 7.62 23.15L12 24L16.38 23.15C19.77 20.68 22 16.5 22 12V7L12 2Z" fill="url(#chatGradient)"/>
            </svg>
            <defs>
              <linearGradient id="chatGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#1f2937"/>
                <stop offset="100%" style="stop-color:#3b82f6"/>
              </linearGradient>
            </defs>
          </div>
          <div class="message-content">
            <p>Hello! I'm the KyanosTech AI Assistant. I can answer questions about our business plan, products, and investment opportunity.</p>
            <p>Ask me about AGON, POLIS, SCOPE, our funding ask, revenue projections, or any other aspect of our progressive political technology platform.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Input Area -->
    <div class="chat-input-container" id="chat-input-container">
      <div class="input-wrapper">
        <input type="text" id="chat-input" placeholder="Ask about KyanosTech..." autocomplete="off">
        <button id="send-message" class="send-button" aria-label="Send message">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="input-footer">
        <p>Powered by KyanosTech AI Assistant</p>
      </div>
    </div>
  </div>
</div>

<style>
/* KyanosTech Brand Variables */
:root {
  --kyanos-democratic-blue: #1f2937;
  --kyanos-blue: #3b82f6;
  --kyanos-progressive: #1d4ed8;
  --kyanos-white: #ffffff;
  --kyanos-victory-gold: #f59e0b;
  --kyanos-heritage-silver: #6b7280;
  --kyanos-slate-bg: #f8fafc;
  --kyanos-constitutional-cream: #fefce8;
  --kyanos-font: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --kyanos-gradient-primary: linear-gradient(135deg, #1f2937 0%, #3b82f6 100%);
  --kyanos-gradient-accent: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
  --kyanos-shadow: 0 10px 40px rgba(31, 41, 55, 0.15);
  --kyanos-border-radius: 12px;
}

/* Base Chatbot Styles */
.kyanostech-chatbot {
  position: fixed;
  top: 80px;
  right: 24px;
  z-index: 10000;
  font-family: var(--kyanos-font);
}

/* Toggle Button */
.chatbot-toggle {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px 24px;
  background: var(--kyanos-gradient-primary);
  border: none;
  border-radius: 30px;
  color: var(--kyanos-white);
  font-family: var(--kyanos-font);
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  box-shadow: var(--kyanos-shadow);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.chatbot-toggle:hover {
  transform: translateY(-2px);
  box-shadow: 0 15px 50px rgba(31, 41, 55, 0.25);
}

.chatbot-toggle::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--kyanos-gradient-accent);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.chatbot-toggle:hover::before {
  opacity: 1;
}

.toggle-icon,
.toggle-label {
  position: relative;
  z-index: 1;
}

.toggle-icon svg {
  display: block;
}

/* Chat Interface */
.chatbot-interface {
  position: absolute;
  top: 70px;
  right: 0;
  width: 420px;
  height: 600px;
  background: var(--kyanos-white);
  border-radius: var(--kyanos-border-radius);
  box-shadow: var(--kyanos-shadow);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: all 0.3s ease;
  transform-origin: top right;
  z-index: 10001;
}

.chatbot-interface.maximized {
  position: fixed;
  top: 20px;
  left: 20px;
  right: 20px;
  bottom: 20px;
  width: calc(100vw - 40px);
  height: calc(100vh - 40px);
  border-radius: var(--kyanos-border-radius);
  transform-origin: center;
  z-index: 10002;
}

.chatbot-interface.hidden {
  opacity: 0;
  transform: scale(0.95) translateY(10px);
  pointer-events: none;
}

.chatbot-interface.visible {
  opacity: 1;
  transform: scale(1) translateY(0);
  pointer-events: all;
}

/* Header */
.chatbot-header {
  background: var(--kyanos-gradient-primary);
  color: var(--kyanos-white);
  padding: 20px 24px;
  border-radius: var(--kyanos-border-radius) var(--kyanos-border-radius) 0 0;
}

.header-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.brand-logo {
  display: flex;
  align-items: center;
  gap: 12px;
}

.brand-text h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 800;
  line-height: 1.2;
}

.brand-text p {
  margin: 0;
  font-size: 14px;
  opacity: 0.9;
  font-weight: 400;
}

.header-actions {
  display: flex;
  gap: 8px;
}

.header-action {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  color: var(--kyanos-white);
  width: 36px;
  height: 36px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.header-action:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Chat Container */
.chat-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Welcome Screen */
.welcome-screen {
  padding: 32px 24px;
  display: flex;
  flex-direction: column;
  gap: 24px;
  height: 100%;
  overflow-y: auto;
}

.welcome-header {
  text-align: center;
}

.kyanos-logo {
  margin-bottom: 16px;
}

.welcome-header h2 {
  margin: 0 0 8px 0;
  color: var(--kyanos-democratic-blue);
  font-size: 22px;
  font-weight: 700;
}

.welcome-header p {
  margin: 0;
  color: var(--kyanos-heritage-silver);
  font-size: 16px;
}

/* Product Grid */
.product-grid {
  display: grid;
  gap: 12px;
}

.product-card {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px;
  background: var(--kyanos-slate-bg);
  border: 2px solid transparent;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  width: 100%;
}

.product-card:hover {
  border-color: var(--kyanos-blue);
  background: rgba(59, 130, 246, 0.05);
  transform: translateY(-1px);
}

.product-icon {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.product-info h4 {
  margin: 0 0 4px 0;
  color: var(--kyanos-democratic-blue);
  font-size: 16px;
  font-weight: 600;
}

.product-info p {
  margin: 0;
  color: var(--kyanos-heritage-silver);
  font-size: 14px;
}

/* Quick Questions */
.quick-questions h3 {
  margin: 0 0 16px 0;
  color: var(--kyanos-democratic-blue);
  font-size: 18px;
  font-weight: 600;
}

.question-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.question-btn {
  padding: 12px 16px;
  background: var(--kyanos-white);
  border: 2px solid #e5e7eb;
  border-radius: 10px;
  color: var(--kyanos-democratic-blue);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: center;
}

.question-btn:hover {
  border-color: var(--kyanos-blue);
  background: rgba(59, 130, 246, 0.05);
}

/* Input Prompt */
.input-prompt {
  text-align: center;
  margin-top: auto;
  padding: 16px;
  background: rgba(59, 130, 246, 0.05);
  border-radius: 12px;
  border: 2px dashed rgba(59, 130, 246, 0.2);
}

.input-prompt p {
  margin: 0;
  color: var(--kyanos-heritage-silver);
  font-size: 14px;
  font-weight: 500;
}

/* Chat Messages */
.chat-messages {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.welcome-chat-message, .bot-message {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.user-message {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  justify-content: flex-end;
  margin-left: 40px;
}

.bot-avatar {
  width: 36px;
  height: 36px;
  border-radius: 18px;
  background: var(--kyanos-gradient-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: white;
}

.user-avatar {
  width: 36px;
  height: 36px;
  border-radius: 18px;
  background: var(--kyanos-heritage-silver);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: white;
  font-weight: 600;
}

.message-content {
  background: var(--kyanos-slate-bg);
  padding: 12px 16px;
  border-radius: 16px;
  border-bottom-left-radius: 4px;
  max-width: 280px;
  word-wrap: break-word;
}

.user-message .message-content {
  background: var(--kyanos-gradient-primary);
  color: white;
  border-radius: 16px;
  border-bottom-right-radius: 4px;
  border-bottom-left-radius: 16px;
}

.message-content p {
  margin: 0 0 8px 0;
  font-size: 14px;
  line-height: 1.4;
}

.message-content p:last-child {
  margin-bottom: 0;
}

.typing-indicator {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.typing-indicator .message-content {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 16px;
}

.typing-indicator .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--kyanos-heritage-silver);
  animation: typing 1.4s infinite;
}

.typing-indicator .dot:nth-child(2) {
  animation-delay: 0.2s;
}

.typing-indicator .dot:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes typing {
  0%, 60%, 100% {
    transform: translateY(0);
    opacity: 0.4;
  }
  30% {
    transform: translateY(-10px);
    opacity: 1;
  }
}

.chat-action-button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: var(--kyanos-blue);
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-top: 8px;
  text-decoration: none;
}

.chat-action-button:hover {
  background: var(--kyanos-progressive);
  transform: translateY(-1px);
}

/* Input Container */
.chat-input-container {
  padding: 20px 24px;
  border-top: 1px solid #e5e7eb;
  background: var(--kyanos-white);
}

.input-wrapper {
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 12px 16px;
  background: var(--kyanos-slate-bg);
  border-radius: 12px;
  border: 2px solid transparent;
  transition: border-color 0.2s ease;
}

.input-wrapper:focus-within {
  border-color: var(--kyanos-blue);
}

#chat-input {
  flex: 1;
  border: none;
  background: none;
  font-family: var(--kyanos-font);
  font-size: 16px;
  color: var(--kyanos-democratic-blue);
  outline: none;
}

#chat-input::placeholder {
  color: var(--kyanos-heritage-silver);
}

.send-button {
  background: var(--kyanos-gradient-primary);
  border: none;
  color: var(--kyanos-white);
  width: 40px;
  height: 40px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.send-button:hover {
  background: var(--kyanos-gradient-accent);
}

.input-footer {
  text-align: center;
  margin-top: 12px;
}

.input-footer p {
  margin: 0;
  color: var(--kyanos-heritage-silver);
  font-size: 12px;
}

/* Mobile Responsive */
@media (max-width: 640px) {
  .kyanostech-chatbot {
    top: 16px;
    right: 16px;
    left: 16px;
  }
  
  .chatbot-toggle {
    width: 100%;
    justify-content: center;
  }
  
  .chatbot-interface {
    width: 100%;
    height: 70vh;
    top: 70px;
    right: 0;
    left: 0;
  }
  
  .question-buttons {
    grid-template-columns: 1fr;
  }
}

/* Animation for pulse effect */
@keyframes pulse {
  0% {
    box-shadow: var(--kyanos-shadow);
  }
  50% {
    box-shadow: 0 15px 50px rgba(59, 130, 246, 0.4);
  }
  100% {
    box-shadow: var(--kyanos-shadow);
  }
}

.chatbot-toggle.pulse {
  animation: pulse 2s infinite;
}
</style>

<script>
// KyanosTech Branded ChatGPT Interface
(function() {
  let isInitialized = false;
  
  function initializeChatbot() {
    if (isInitialized) return;
    isInitialized = true;
    
    const toggle = document.getElementById('chatbot-toggle');
    const chatInterface = document.getElementById('chatbot-interface');
    const maximizeBtn = document.getElementById('chatbot-maximize');
    const minimizeBtn = document.getElementById('chatbot-minimize');
    const closeBtn = document.getElementById('chatbot-close');
    const chatInput = document.getElementById('chat-input');
    const sendBtn = document.getElementById('send-message');
    const chatMessages = document.getElementById('chat-messages');
    const welcomeScreen = document.getElementById('welcome-screen');
    const chatInputContainer = document.getElementById('chat-input-container');
    
    let isMaximized = false;
    const productCards = document.querySelectorAll('.product-card');
    const questionBtns = document.querySelectorAll('.question-btn');
    
    const GPT_URL = 'https://chatgpt.com/g/g-68bcd2f93b088191b1ea569db04d057b-kyanostech-business-assistant';
    
    // Comprehensive KyanosTech Knowledge Base
    const knowledgeBase = {
      'problem': {
        question: 'What fundamental problem does KyanosTech solve in progressive politics?',
        answer: `KyanosTech addresses the critical technology gap facing progressive campaigns and organizations. The fundamental problem is that while conservatives have invested heavily in sophisticated political technology, progressives are stuck with fragmented, expensive, and often ineffective tools.

**Key Problems:**
‚Ä¢ **Fragmented ecosystem**: Campaigns must juggle dozens of separate tools that don't integrate
‚Ä¢ **High costs**: Enterprise political software is prohibitively expensive for grassroots campaigns
‚Ä¢ **Poor user experience**: Most political tools are clunky and require extensive training
‚Ä¢ **Data silos**: Voter data, fundraising data, and communication data exist in separate systems
‚Ä¢ **Limited intelligence**: No comprehensive view of campaign performance or voter engagement

This creates a massive disadvantage for progressive candidates who typically have smaller budgets but need to be more efficient and effective than their well-funded opponents.`
      },
      'solution': {
        question: 'How do AGON, POLIS, and SCOPE work together to solve progressive campaign challenges?',
        answer: `KyanosTech's integrated platform combines three powerful tools that work seamlessly together:

**AGON - Win the Contest** (Campaign Management)
‚Ä¢ Central hub for all campaign operations
‚Ä¢ Integrated voter database and targeting
‚Ä¢ Volunteer management and coordination
‚Ä¢ Real-time campaign performance tracking

**POLIS - Govern with Intelligence** (Public Engagement)
‚Ä¢ Digital town halls and community forums
‚Ä¢ Policy feedback and citizen input collection
‚Ä¢ Government transparency and accountability tools
‚Ä¢ Community organizing and advocacy features

**SCOPE - Measure What Matters** (Analytics & Insights)
‚Ä¢ Comprehensive campaign analytics dashboard
‚Ä¢ Voter behavior and engagement analysis
‚Ä¢ ROI tracking for all campaign activities
‚Ä¢ Predictive modeling for strategic decisions

**The Integration Advantage:**
All three platforms share a unified database, allowing campaigns to track voters from initial contact through election day and beyond into governance. This creates an unprecedented 360-degree view of political engagement.`
      },
      'market_gap': {
        question: 'Why do current political technology solutions fail progressive campaigns and organizations?',
        answer: `Current political technology solutions fail progressive campaigns for several critical reasons:

**Cost Barriers:**
‚Ä¢ Most political software is priced for well-funded national campaigns ($50,000-$200,000+ annually)
‚Ä¢ Hidden fees, setup costs, and per-user charges make total cost unpredictable
‚Ä¢ Local and grassroots campaigns are effectively priced out of quality tools

**Fragmentation:**
‚Ä¢ Campaigns need 12-15 separate tools: voter files, fundraising, email, texting, social media, websites, etc.
‚Ä¢ No integration between tools creates data silos and workflow inefficiencies
‚Ä¢ Staff waste hours manually syncing data between systems

**Conservative Bias:**
‚Ä¢ Most political tech companies focus on Republican clients (higher budgets, more centralized)
‚Ä¢ Progressive needs (community organizing, issue advocacy, coalition building) are underserved
‚Ä¢ Limited understanding of progressive campaign strategies and values

**Technical Debt:**
‚Ä¢ Many political tools are built on outdated technology
‚Ä¢ Poor mobile experiences despite field-first campaign operations
‚Ä¢ Limited API capabilities prevent custom integrations

**User Experience Problems:**
‚Ä¢ Steep learning curves require expensive training
‚Ä¢ Counterintuitive interfaces slow down campaign operations
‚Ä¢ Limited customization options don't match diverse campaign needs`
      },
      'unique_value': {
        question: "What makes KyanosTech's integrated approach unique in the political technology space?",
        answer: `KyanosTech's approach is revolutionary in the political technology space for several key reasons:

**True Integration:**
‚Ä¢ Single sign-on across all three platforms (AGON, POLIS, SCOPE)
‚Ä¢ Unified voter/citizen database with 360-degree profiles
‚Ä¢ Real-time data synchronization eliminates manual work
‚Ä¢ Consistent user interface and experience across all tools

**Progressive-First Design:**
‚Ä¢ Built specifically for progressive values and campaign strategies
‚Ä¢ Community organizing features prioritize grassroots engagement
‚Ä¢ Coalition-building tools connect diverse stakeholder groups
‚Ä¢ Issue advocacy workflows support long-term movement building

**Accessible Pricing:**
‚Ä¢ Transparent, affordable pricing starting at $99/month
‚Ä¢ No hidden fees, setup costs, or per-user charges
‚Ä¢ Scalable pricing grows with campaign size and needs
‚Ä¢ Free tier for qualifying grassroots organizations

**Modern Technology:**
‚Ä¢ Cloud-native architecture ensures reliability and security
‚Ä¢ Mobile-first design supports field operations
‚Ä¢ AI-powered insights provide strategic recommendations
‚Ä¢ Open API enables custom integrations and workflows

**Comprehensive Analytics:**
‚Ä¢ SCOPE provides unprecedented visibility into campaign performance
‚Ä¢ Cross-platform analytics reveal voter journey insights
‚Ä¢ Predictive modeling helps optimize resource allocation
‚Ä¢ ROI tracking justifies every campaign investment

No other political technology platform offers this combination of integration, progressive focus, affordability, and modern capabilities.`
      },
      'agon': {
        question: 'Tell me about AGON',
        answer: `AGON is KyanosTech's flagship campaign management platform designed to help progressive campaigns "Win the Contest."

**Core Features:**
‚Ä¢ **Integrated Voter Database**: Comprehensive voter profiles with engagement history
‚Ä¢ **Volunteer Management**: Recruit, train, and coordinate campaign volunteers
‚Ä¢ **Event Management**: Plan and execute campaign events, rallies, and fundraisers  
‚Ä¢ **Contact Management**: Track relationships with donors, endorsers, and stakeholders
‚Ä¢ **Task Management**: Assign and track campaign activities across the team
‚Ä¢ **Communication Hub**: Centralized messaging for email, text, and social media

**Key Differentiators:**
‚Ä¢ **Field-First Design**: Built for campaigns that prioritize grassroots organizing
‚Ä¢ **Mobile Optimization**: Full functionality on smartphones for field operations
‚Ä¢ **Integration Ready**: Seamless connection with POLIS and SCOPE platforms
‚Ä¢ **Progressive Workflows**: Tailored for coalition building and community organizing

**Pricing**: Starting at $199/month for local campaigns, scaling to $999/month for statewide races.

**Target Users**: Campaign managers, field directors, volunteer coordinators, and candidate teams running for local, state, or federal office.

AGON transforms chaotic campaign operations into organized, data-driven efforts that maximize volunteer impact and voter outreach efficiency.`
      },
      'polis': {
        question: 'Tell me about POLIS',
        answer: `POLIS is KyanosTech's civic engagement platform that helps elected officials and organizations "Govern with Intelligence."

**Core Features:**
‚Ä¢ **Digital Town Halls**: Host virtual community meetings with interactive Q&A
‚Ä¢ **Policy Feedback Portal**: Collect citizen input on proposed legislation and policies  
‚Ä¢ **Community Forums**: Facilitate ongoing dialogue between constituents and representatives
‚Ä¢ **Transparency Dashboard**: Provide real-time access to government actions and decisions
‚Ä¢ **Issue Tracking**: Monitor community concerns and policy implementation progress
‚Ä¢ **Coalition Building**: Connect diverse stakeholder groups around shared priorities

**Key Differentiators:**
‚Ä¢ **Accessibility Focus**: Multiple language support and ADA-compliant design
‚Ä¢ **Moderation Tools**: AI-powered content moderation maintains civil discourse
‚Ä¢ **Integration with AGON**: Seamless transition from campaign to governance
‚Ä¢ **Data Analytics**: SCOPE integration provides insights into citizen engagement

**Pricing**: Starting at $299/month for city councils, scaling to $1,999/month for state-level implementations.

**Target Users**: Elected officials, government staff, advocacy organizations, and community groups seeking to increase civic participation and democratic engagement.

POLIS bridges the gap between elections and governance, ensuring elected progressives stay connected to their communities and responsive to constituent needs.`
      },
      'scope': {
        question: 'Tell me about SCOPE',
        answer: `SCOPE is KyanosTech's advanced analytics platform that helps campaigns and organizations "Measure What Matters."

**Core Features:**
‚Ä¢ **Campaign Performance Dashboard**: Real-time metrics on all campaign activities
‚Ä¢ **Voter Analytics**: Detailed insights into voter behavior and engagement patterns
‚Ä¢ **ROI Tracking**: Measure return on investment for every campaign expenditure
‚Ä¢ **Predictive Modeling**: AI-powered forecasting for election outcomes and voter turnout
‚Ä¢ **Communication Analytics**: Track email open rates, text response rates, social media engagement
‚Ä¢ **Fundraising Intelligence**: Optimize donor outreach and contribution strategies

**Key Differentiators:**
‚Ä¢ **Cross-Platform Integration**: Unified analytics across AGON and POLIS data
‚Ä¢ **Progressive Metrics**: Measures community organizing effectiveness, not just vote totals
‚Ä¢ **Accessible Insights**: Complex analytics presented in easy-to-understand visualizations
‚Ä¢ **Actionable Recommendations**: AI suggests specific actions to improve campaign performance

**Pricing**: Starting at $149/month for basic analytics, scaling to $499/month for advanced predictive modeling.

**Target Users**: Campaign managers, political consultants, field directors, and data analysts who need comprehensive insights into campaign performance and voter engagement.

**Sample Insights:**
‚Ä¢ Which volunteer recruitment methods yield the highest-quality activists
‚Ä¢ Optimal timing and messaging for fundraising appeals  
‚Ä¢ Voter persuasion effectiveness across different demographics
‚Ä¢ Resource allocation recommendations for maximum impact

SCOPE transforms raw campaign data into strategic intelligence that wins elections.`
      },
      'funding': {
        question: 'What is the funding ask and how will the money be used?',
        answer: `KyanosTech is raising $2.5 million in Series A funding to accelerate product development and market expansion.

**Use of Funds:**
‚Ä¢ **Product Development (40% - $1.0M)**: Complete SCOPE analytics platform, enhance AGON and POLIS features
‚Ä¢ **Sales & Marketing (35% - $875K)**: Build sales team, attend political conferences, digital marketing campaigns  
‚Ä¢ **Engineering Team (15% - $375K)**: Hire senior developers and devops engineers
‚Ä¢ **Operations & Infrastructure (10% - $250K)**: Cloud hosting, security, compliance, and administrative costs

**Revenue Projections:**
‚Ä¢ Year 1: $850K ARR (150 campaigns, 50 government clients)
‚Ä¢ Year 2: $2.1M ARR (375 campaigns, 125 government clients)
‚Ä¢ Year 3: $4.8M ARR (750 campaigns, 250 government clients)

**Key Milestones:**
‚Ä¢ Complete SCOPE platform development (6 months)
‚Ä¢ Sign 100 campaigns for 2024 election cycle (12 months)
‚Ä¢ Achieve break-even operations (18 months)
‚Ä¢ Begin international expansion planning (24 months)

**Investment Opportunity:**
This funding round represents a unique opportunity to support the technology infrastructure that could tip the balance toward progressive governance across America.`
      },
      'business_model': {
        question: 'How does KyanosTech make money?',
        answer: `KyanosTech operates a B2B SaaS model with multiple revenue streams:

**Primary Revenue Streams:**

**1. Campaign Subscriptions (60% of revenue)**
‚Ä¢ AGON: $99-$999/month based on campaign size
‚Ä¢ POLIS: $199-$1,999/month based on jurisdiction size  
‚Ä¢ SCOPE: $149-$499/month based on analytics needs
‚Ä¢ Bundled pricing offers 25% discount for multiple platforms

**2. Professional Services (25% of revenue)**
‚Ä¢ Campaign setup and data migration: $5,000-$25,000
‚Ä¢ Strategic consulting: $200/hour
‚Ä¢ Custom training programs: $2,000-$10,000
‚Ä¢ White-label development: $50,000-$200,000

**3. Data and Analytics (10% of revenue)**
‚Ä¢ Enhanced voter file services: $0.05-$0.15 per record
‚Ä¢ Predictive modeling reports: $5,000-$15,000
‚Ä¢ Custom research and polling integration: $10,000-$50,000

**4. Partnership Revenue (5% of revenue)**
‚Ä¢ Integration partnerships with existing political vendors
‚Ä¢ Referral fees from complementary service providers
‚Ä¢ White-label licensing to consulting firms

**Pricing Strategy:**
‚Ä¢ Transparent, predictable pricing with no hidden fees
‚Ä¢ Affordable entry point for grassroots campaigns
‚Ä¢ Scalable pricing that grows with campaign success
‚Ä¢ Annual contracts with monthly payment options

**Customer Retention:**
‚Ä¢ 85% annual retention rate for campaign customers
‚Ä¢ 92% retention rate for government/organizational clients
‚Ä¢ Negative churn through upselling and feature expansion`
      }
    };
    
    // Question logging function
    function logQuestion(question, source = 'direct') {
      const logData = {
        question: question,
        timestamp: new Date().toISOString(),
        source: source,
        page: window.location.pathname,
        referrer: document.referrer || 'direct'
      };
      
      // Google Analytics
      if (window.gtag) {
        window.gtag('event', 'kyanos_ai_question', {
          'event_category': 'chatbot_engagement',
          'event_label': question.substring(0, 100),
          'custom_parameter_1': source
        });
      }
      
      // Console log for development
      console.log('KyanosTech AI Question:', logData);
      
      // Local storage
      const questions = JSON.parse(localStorage.getItem('kyanos_ai_questions') || '[]');
      questions.push(logData);
      if (questions.length > 50) {
        questions.splice(0, questions.length - 50);
      }
      localStorage.setItem('kyanos_ai_questions', JSON.stringify(questions));
      
      return logData;
    }
    
    // Find answer in knowledge base
    function findAnswer(question) {
      const lowerQuestion = question.toLowerCase();
      
      // Direct knowledge base lookups
      if (lowerQuestion.includes('problem') || lowerQuestion.includes('fundamental')) {
        return knowledgeBase.problem;
      }
      if (lowerQuestion.includes('solution') || lowerQuestion.includes('together') || lowerQuestion.includes('work together')) {
        return knowledgeBase.solution;
      }
      if (lowerQuestion.includes('market gap') || lowerQuestion.includes('fail') || lowerQuestion.includes('current')) {
        return knowledgeBase.market_gap;
      }
      if (lowerQuestion.includes('unique') || lowerQuestion.includes('approach') || lowerQuestion.includes('different')) {
        return knowledgeBase.unique_value;
      }
      if (lowerQuestion.includes('agon') && !lowerQuestion.includes('polis') && !lowerQuestion.includes('scope')) {
        return knowledgeBase.agon;
      }
      if (lowerQuestion.includes('polis') && !lowerQuestion.includes('agon') && !lowerQuestion.includes('scope')) {
        return knowledgeBase.polis;
      }
      if (lowerQuestion.includes('scope') && !lowerQuestion.includes('agon') && !lowerQuestion.includes('polis')) {
        return knowledgeBase.scope;
      }
      if (lowerQuestion.includes('funding') || lowerQuestion.includes('money') || lowerQuestion.includes('investment')) {
        return knowledgeBase.funding;
      }
      if (lowerQuestion.includes('business model') || lowerQuestion.includes('revenue') || lowerQuestion.includes('make money')) {
        return knowledgeBase.business_model;
      }
      
      // Fallback for complex questions
      return {
        question: question,
        answer: `I understand you're asking about "${question}". This is a great question that requires a detailed answer from our comprehensive business plan. 

Let me connect you to our full AI assistant for the most complete response.`,
        needsGPT: true
      };
    }
    
    // Add message to chat
    function addMessage(message, isUser = false) {
      const messagesContainer = document.getElementById('chat-messages');
      
      const messageDiv = document.createElement('div');
      messageDiv.className = isUser ? 'user-message' : 'bot-message';
      
      if (isUser) {
        messageDiv.innerHTML = `
          <div class="message-content">
            <p>${message}</p>
          </div>
          <div class="user-avatar">U</div>
        `;
      } else {
        messageDiv.innerHTML = `
          <div class="bot-avatar">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M12 2L2 7V12C2 16.5 4.23 20.68 7.62 23.15L12 24L16.38 23.15C19.77 20.68 22 16.5 22 12V7L12 2Z" fill="url(#chatGradient)"/>
            </svg>
            <defs>
              <linearGradient id="chatGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#1f2937"/>
                <stop offset="100%" style="stop-color:#3b82f6"/>
              </linearGradient>
            </defs>
          </div>
          <div class="message-content">
            <p>${message.replace(/\n/g, '</p><p>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/‚Ä¢ /g, '‚Ä¢ ')}</p>
          </div>
        `;
      }
      
      messagesContainer.appendChild(messageDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    // Show typing indicator
    function showTyping() {
      const messagesContainer = document.getElementById('chat-messages');
      const typingDiv = document.createElement('div');
      typingDiv.className = 'typing-indicator';
      typingDiv.id = 'typing-indicator';
      typingDiv.innerHTML = `
        <div class="bot-avatar">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M12 2L2 7V12C2 16.5 4.23 20.68 7.62 23.15L12 24L16.38 23.15C19.77 20.68 22 16.5 22 12V7L12 2Z" fill="url(#chatGradient)"/>
          </svg>
        </div>
        <div class="message-content">
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
        </div>
      `;
      messagesContainer.appendChild(typingDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    // Remove typing indicator
    function hideTyping() {
      const typing = document.getElementById('typing-indicator');
      if (typing) typing.remove();
    }
    
    // Handle question with in-page response
    function handleQuestion(question, source = 'direct') {
      // Log the question
      logQuestion(question, source);
      
      // Switch to chat view
      welcomeScreen.classList.add('hidden');
      chatMessages.classList.remove('hidden');
      chatInputContainer.classList.remove('hidden');
      
      // Add user message
      addMessage(question, true);
      
      // Show typing indicator
      showTyping();
      
      // Find and display answer after delay
      setTimeout(() => {
        hideTyping();
        const response = findAnswer(question);
        addMessage(response.answer);
        
        // If it needs GPT, add a button
        if (response.needsGPT) {
          setTimeout(() => {
            const messagesContainer = document.getElementById('chat-messages');
            const actionDiv = document.createElement('div');
            actionDiv.className = 'bot-message';
            actionDiv.innerHTML = `
              <div class="bot-avatar">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M12 2L2 7V12C2 16.5 4.23 20.68 7.62 23.15L12 24L16.38 23.15C19.77 20.68 22 16.5 22 12V7L12 2Z" fill="url(#chatGradient)"/>
                </svg>
              </div>
              <div class="message-content">
                <button class="chat-action-button" onclick="window.open('${GPT_URL}?q=${encodeURIComponent(question)}', '_blank')">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M18 13V19C18 20.1046 17.1046 21 16 21H5C3.89543 21 3 20.1046 3 19V8C3 6.89543 3.89543 6 5 6H11M15 3H21V9M21 3L9 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Get Complete Answer
                </button>
              </div>
            `;
            messagesContainer.appendChild(actionDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
          }, 500);
        }
      }, 1500);
    }
    
    // Send message from input
    function sendMessage() {
      const input = document.getElementById('chat-input');
      const question = input.value.trim();
      if (!question) return;
      
      input.value = '';
      handleQuestion(question, 'input');
    }
    
    // Toggle chat interface
    toggle?.addEventListener('click', function(e) {
      e.stopPropagation();
      chatInterface.classList.toggle('hidden');
      chatInterface.classList.toggle('visible');
      
      if (window.gtag) {
        window.gtag('event', 'kyanos_ai_interface_open', {
          'event_category': 'chatbot_engagement'
        });
      }
    });
    
    // Maximize button
    maximizeBtn?.addEventListener('click', function() {
      isMaximized = !isMaximized;
      if (isMaximized) {
        chatInterface.classList.add('maximized');
        maximizeBtn.innerHTML = `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M8 3H5C3.89543 3 3 3.89543 3 5V8M16 3H19C20.1046 3 21 3.89543 21 5V8M16 21H19C20.1046 21 21 20.1046 21 19V16M8 21H5C3.89543 21 5 20.1046 5 19V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        `;
        maximizeBtn.setAttribute('title', 'Restore');
      } else {
        chatInterface.classList.remove('maximized');
        maximizeBtn.innerHTML = `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M8 3H5C3.89543 3 3 3.89543 3 5V8M21 8V5C21 3.89543 20.1046 3 19 3H16M16 21H19C20.1046 21 21 20.1046 21 19V16M3 16V19C3 20.1046 3.89543 21 5 21H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        `;
        maximizeBtn.setAttribute('title', 'Maximize');
      }
    });
    
    // Minimize/Close buttons
    minimizeBtn?.addEventListener('click', function() {
      chatInterface.classList.add('hidden');
      chatInterface.classList.remove('visible');
      if (isMaximized) {
        isMaximized = false;
        chatInterface.classList.remove('maximized');
      }
    });
    
    closeBtn?.addEventListener('click', function() {
      chatInterface.classList.add('hidden');
      chatInterface.classList.remove('visible');
    });
    
    // Auto-focus input when interface opens
    function focusInput() {
      if (chatInputContainer && !chatInputContainer.classList.contains('hidden')) {
        chatInput?.focus();
      }
    }
    
    // Product cards - now use in-page responses
    productCards.forEach(card => {
      card.addEventListener('click', function() {
        const question = card.getAttribute('data-question');
        if (question) {
          handleQuestion(question, 'product_card');
        }
      });
    });
    
    // Quick question buttons - now use in-page responses
    questionBtns.forEach(btn => {
      btn.addEventListener('click', function() {
        const question = btn.getAttribute('data-question');
        if (question) {
          handleQuestion(question, 'question_button');
        }
      });
    });
    
    // Input event listeners
    sendBtn?.addEventListener('click', sendMessage);
    
    chatInput?.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        sendMessage();
      }
    });
    
    // Close when clicking outside
    document.addEventListener('click', function(e) {
      if (!chatInterface.contains(e.target) && !toggle.contains(e.target)) {
        chatInterface.classList.add('hidden');
        chatInterface.classList.remove('visible');
      }
    });
    
    // Pulse animation after 5 seconds
    setTimeout(function() {
      toggle.classList.add('pulse');
      setTimeout(function() {
        toggle.classList.remove('pulse');
      }, 4000);
    }, 5000);
    
    // Expose logging function globally
    window.KyanosTechAI = {
      logQuestion: logQuestion,
      getQuestions: function() {
        return JSON.parse(localStorage.getItem('kyanos_ai_questions') || '[]');
      },
      openGPT: openChatGPT
    };
  }
  
  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeChatbot);
  } else {
    initializeChatbot();
  }
})();
</script>